package com.models {		import com.lib.Model;	import com.models.Player;	import com.geom.MapPoint;	import com.events.UnitEvent;		public class Unit extends Model {				private var type:String;		private var attack:int;		private var defence:int;		private var movement:int;		private var owner:Player;		private var currentLocation:MapPoint;		private var movesLeftThisTurn;			public function Unit(t:String, a:int, d:int, m:int)		{		  	type = t;		  	attack = a;		  	defence = d;		  	movement = m;			movesLeftThisTurn = movement;		}				public function setLocation(m:MapPoint)		{ 			var dispatchMovementComplete:Boolean = true;			if(currentLocation == null)				dispatchMovementComplete = false;			else			{				if(!m.equals(currentLocation))					movesLeftThisTurn--;			}						currentLocation = m;			var e:UnitEvent = new UnitEvent(UnitEvent.MOVEMENT);			e.setTargetLocation(currentLocation);			dispatchEvent(e);						if(dispatchMovementComplete && movesLeftThisTurn <= 0)			{				movesLeftThisTurn = movement;				var movementCompleteEvent:UnitEvent = new UnitEvent(UnitEvent.MOVEMENT_COMPLETE);				dispatchEvent(movementCompleteEvent);			}		}		public function setOwner(o:Player) { owner = o; }		public function getType():String { return type; }		public function getMapPoint():MapPoint { return currentLocation; }	}	}