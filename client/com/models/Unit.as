package com.models {		import com.lib.Model;	import com.models.Player;	import com.geom.MapPoint;	import com.events.UnitEvent;		public class Unit extends Model {				private var type:String;		private var attack:int;		private var defence:int;		private var movement:int;		private var owner:Player;		private var currentLocation:MapPoint;		private var movesLeftThisTurn;		private var startLocation;			public function Unit(t:String, a:int, d:int, m:int)		{		  	type = t;		  	attack = a;		  	defence = d;		  	movement = m;			movesLeftThisTurn = movement;		}				public function setLocation(m:MapPoint)		{			if(currentLocation == null)				startLocation = m;			else			{				if(!m.equals(currentLocation))					movesLeftThisTurn--;			}						currentLocation = m;			var e:UnitEvent = new UnitEvent(UnitEvent.MOVEMENT);			e.setTargetLocation(currentLocation);			dispatchEvent(e);						if(movesLeftThisTurn <= 0)			{				var movementCompleteEvent:UnitEvent = new UnitEvent(UnitEvent.MOVEMENT_COMPLETE);				movementCompleteEvent.setStartLocation(startLocation);				movementCompleteEvent.setTargetLocation(currentLocation);				startLocation = m;				movesLeftThisTurn = movement;				dispatchEvent(movementCompleteEvent);			}		}				public function setOwner(o:Player) { owner = o; }		public function getType():String { return type; }		public function getMapPoint():MapPoint { return currentLocation; }		public function getAttack():int { return attack;}		public function getDefence():int { return defence;}		public function getMovement():int { return movement;}		public function getMovementLeft():int { return movesLeftThisTurn; }	}	}