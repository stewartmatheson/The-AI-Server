package com.factories {		import com.states.Battle;	import flash.display.Stage;	import com.models.Map;	import com.views.MapView;	import flash.events.MouseEvent;	import com.controllers.PlayerBattleController;		public class BattleState {				public static function create(mapData:Array, currentStage:Stage):Battle 		{			var m:Map = Maps.createModel(mapData);			var mapView:MapView = Maps.createView(m);			var b:Battle = new Battle(currentStage);			b.setMap(m);			b.addView(mapView);			var playerController = b.getPlayerController();			for(var i:int = 0; i < mapView.getTiles().length; i++)			{				mapView.getTiles()[i].addEventListener(MouseEvent.MOUSE_OVER, playerController.displayTileInfo);				mapView.getTiles()[i].addEventListener(MouseEvent.MOUSE_OUT, playerController.hideTileInfo);			}												return b;		}	}	}