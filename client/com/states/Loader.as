package com.states {		import flash.net.*;	import flash.events.*;	import com.events.StateEvent;	import com.Config;	import com.states.Battle;	import com.lib.State;	import flash.display.Stage;		public class Loader extends State {				private var configLoader:URLLoader;			public function Loader(s:Stage)		{			super(s);			configLoader = new URLLoader();			configLoader.addEventListener(Event.COMPLETE, loadedConfig);			configLoader.load(new URLRequest("config.xml"));		}				private function loadedConfig(e:Event):void		{			var configXML:XML = XML(e.target.data);			configXML.ignoreWhite = true;			Config.setValue("server_base_uri", configXML.option.(@key == "server_base_uri"));			Config.setValue("maps_uri", configXML.option.(@key == "maps_uri"));			Config.setValue("units_uri", configXML.option.(@key == "units_uri"));						var nextStateEvent:StateEvent = new StateEvent(StateEvent.COMPLETE);			var b:Battle = new Battle(currentStage);			nextStateEvent.setNextState(b);			dispatchEvent(nextStateEvent);		}	}}